<div class="container">
    <!-- Sidebar Menu -->
    <div class="sidebar" (mouseover)="openMenu()" (mouseleave)="closeMenu()" [class.expanded]="isMenu">
        <!-- Logo -->
        <div class="logo" *ngIf="isMenu">
          METRONIC
          <span class="collapse-icon">¬´</span>
        </div>
        <div class="menu" *ngIf="isMenu" style="color: #fff;">
          <h6>CH·ª®C NƒÇNG</h6>
        </div>
        <ul>
          <li class="has-dropdown">
            <details *ngIf="isMenu">
              <summary >ChƒÉm s√≥c kh√°ch h√†ng</summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/contact">Qu·∫£n l√Ω y√™u c·∫ßu</a></li>
                <li><a routerLink="/admin/customer">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown" *ngIf="isAdmin">
            <details *ngIf="isMenu">
              <summary >Qu·∫£n l√Ω ƒë∆°n h√†ng</summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/orderprocessing">Qu·∫£n l√Ω ƒë∆°n h√†ng ƒë∆∞·ª£c duy·ªát</a></li>
                <li><a routerLink="/admin/order">Qu·∫£n l√Ω ƒë∆°n h√†ng</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown">
            <details *ngIf="isMenu">
              <summary >S·∫£n Ph·∫©m</summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/product">Qu·∫£n l√Ω s·∫£n ph·∫©m</a></li>
                <li><a routerLink="/admin/category">Qu·∫£n l√Ω danh m·ª•c</a></li>
                <li><a routerLink="/admin/image">Qu·∫£n l√Ω h√¨nh ·∫£nh</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown" *ngIf="isAdmin">
            <details *ngIf="isMenu">
              <summary >B·ªô s∆∞u t·∫≠p </summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/blog">Danh s√°ch Blog</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown" *ngIf="isAdmin">
            <details *ngIf="isMenu">
              <summary >B√¨nh lu·∫≠n</summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/comment">Danh s√°ch b√¨nh lu·∫≠n</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown" *ngIf="isAdmin">
            <details *ngIf="isMenu">
              <summary >Ph√¢n quy·ªÅn </summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/user">Nh√¢n s·ª±</a></li>
                <li><a routerLink="/admin/nhomquyen">Nh√≥m quy·ªÅn</a></li>
                <li><a routerLink="/admin/role">Quy·ªÅn</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown">
            <details *ngIf="isMenu">
              <summary >G·ª≠i th√¥ng b√°o t·ª± ƒë·ªông </summary>
              <ul class="drop-menu" >
                <li><a routerLink="">Th√¥ng b√°o t·ª± ƒë·ªông</a></li>
              </ul>
            </details>
          </li>
          <li class="has-dropdown">
            <details *ngIf="isMenu">
              <summary >L·ªãch s·ª≠</summary>
              <ul class="drop-menu" >
                <li><a routerLink="/admin/history">Th√¥ng tin l·ªãch s·ª≠ h·ªá th·ªëng</a></li>
              </ul>
            </details>
          </li>
          <li *ngIf="isMenu"><button class="update-btn" (click)="logout()">ƒêƒÉng xu·∫•t</button></li>
        </ul>
    </div>

    <!--ph·∫ßn ch√≠nh-->
    <div class="role-main">
        <!-- Ti√™u ƒë·ªÅ v√† n√∫t -->
        <div class="header">
            <div class="header-content">
                <h2>Qu·∫£n l√Ω quy·ªÅn <span class="sub-header">Trang ch·ªß</span></h2>
            </div>
        </div>

        <!-- N√∫t th√™m vai tr√≤ -->
        <div class="add-role-header">
            <button class="update-btn" (click)="toggleAddForm()">
                {{ showAddForm ? '·∫®n Form' : 'Th√™m Quy·ªÅn' }}
            </button>
        </div>

        <!-- Danh s√°ch vai tr√≤ d·∫°ng b·∫£ng -->
        <div class="report-table">
            <div class="table-header">
                <span class="source-name">ID</span>
                <span>T√äN QUY·ªÄN</span>
                <span>H√ÄNH ƒê·ªòNG</span>
            </div>
            <div class="table-row" *ngFor="let role of roles">
                <span class="source-name">{{ role.Id }}</span>
                <span>{{ role.Name }}</span>
                <div class="actions">
                    <button class="edit-btn" (click)="edit(role)">‚úèÔ∏è S·ª≠a</button>
                    <button class="delete-btn" (click)="deleteRole(role.Id!)">üíæ X√≥a</button>
                </div>
            </div>
            <div *ngIf="roles.length === 0" class="no-data">Kh√¥ng c√≥ quy·ªÅn n√†o.</div>
        </div>

        <!-- Form th√™m vai tr√≤ (modal) -->
        <div class="add-role-section" *ngIf="showAddForm && !isEditing">
            <!-- <div class="overlay" (click)="resetForm()"></div> -->
            <div class="add-role-content">
                <h3>Th√™m Quy·ªÅn</h3>
                <form (ngSubmit)="addRole()" class="role-form">
                    <div class="form-group">
                        <label for="name">T√™n Vai Tr√≤:</label>
                        <input id="name" type="text" [(ngModel)]="newRole.Name" name="roleName" class="form-control"
                            required />
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="submit-btn" [disabled]="!newRole.Name">Th√™m</button>
                        <button type="button" class="cancel-btn" (click)="resetForm()">H·ªßy</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Form ch·ªânh s·ª≠a vai tr√≤ (modal) -->
        <div class="add-role-section" *ngIf="showAddForm && isEditing">
            <!-- <div class="overlay" (click)="resetForm()"></div> -->
            <div class="add-role-content">
                <h3>Ch·ªânh S·ª≠a Quy·ªÅn</h3>
                <form (ngSubmit)="updateRole()" class="role-form">
                    <div class="form-group">
                        <label for="editName">T√™n Vai Tr√≤:</label>
                        <input id="editName" type="text" [(ngModel)]="editRole.Name" name="editRoleName"
                            class="form-control" required />
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="submit-btn" [disabled]="!editRole.Name">L∆∞u</button>
                        <button type="button" class="cancel-btn" (click)="resetForm()">H·ªßy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>